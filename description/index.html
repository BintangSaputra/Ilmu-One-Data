<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "GA_MEASUREMENT_ID", {
        page_title: "descriptionpage",
        page_path: "/description"
      });

      // gtag("event", "view_item_list", {
      //   items: [
      //     {
      //       id: "1",
      //       name: "Product A",
      //       color: "BLACK",
      //       price: 200000,
      //       position: 1
      //     },
      //     {
      //       id: "2",
      //       name: "Product B",
      //       color: "BLACK",
      //       price: 200000,
      //       position: 2
      //     },
      //     {
      //       id: "3",
      //       name: "Product C",
      //       color: "BLACK",
      //       price: 200000,
      //       position: 3
      //     }
      //   ]
      // });

      gtag("config", "UA-140812393-1");
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <!-- Google Tag Manager -->
    <script>
      (function(w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
          "gtm.start": new Date().getTime(),
          event: "gtm.js"
        });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-MBFB4XV");
    </script>
    <!-- End Google Tag Manager -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../styling.css" />
  </head>

  <body>
    <script>
      ga("create", "UA-140812393-1");
      ga("require", "ec");

      ga(
        "ec:addProduct",
        {
          category: "Shirts",
          id: "S12",
          name: "Product A",
          color: "BLACK",
          price: "200000",
          position: "1"
        },
        {
          category: "Shirts",
          id: "S13",
          name: "Product A",
          color: "BLACK",
          price: "200000",
          position: "2"
        },
        {
          category: "Shirts",
          id: "S14",
          name: "Product A",
          color: "BLACK",
          price: "200000",
          position: "3"
        }
      );

      ga(
        "ec:addImpression",
        {
          category: "Shirts",
          id: "S12",
          name: "Product A",
          color: "BLACK",
          price: "200000",
          position: "1"
        },
        {
          category: "Shirts",
          id: "S13",
          name: "Product A",
          color: "BLACK",
          price: "200000",
          position: "2"
        },
        {
          category: "Shirts",
          id: "S14",
          name: "Product A",
          color: "BLACK",
          price: "200000",
          position: "3"
        }
      );

      ga("ecommerce:send");

      ga("ec:setAction", "detail");
      ga("send", "pageview");

      ga("ec:setAction", "click", {
        list: "Search Results"
      });
      // Product impressions are sent by pushing an impressions object
      // containing one or more impressionFieldObjects

      // var products = [
      //   {
      //     category: "Shirts",
      //     id: "S12",
      //     name: "Product A",
      //     color: "BLACK",
      //     price: "200000",
      //     position: "1"
      //   },
      //   {
      //     category: "Shirts",
      //     id: "S13",
      //     name: "Product B",
      //     color: "BLACK",
      //     price: "200000",
      //     position: "2"
      //   },
      //   {
      //     category: "Shirts",
      //     id: "S14",
      //     name: "Product B",
      //     color: "BLACK",
      //     price: "200000",
      //     position: "2"
      //   }
      // ];
      // for (var i = 0; i < products.length; i++) {
      //   products[i]["list"] = "Favorite";
      // }

      dataLayer.push({
        ecommerce: {
          currencyCode: "IDR",
          impressions: [
            {
              category: "Shirts",
              id: "S12",
              name: "Product A",
              color: "BLACK",
              price: "200000",
              position: "1"
            },
            {
              category: "Shirts",
              id: "S13",
              name: "Product B",
              color: "BLACK",
              price: "200000",
              position: "2"
            },
            {
              category: "Shirts",
              id: "S14",
              name: "Product B",
              color: "BLACK",
              price: "200000",
              position: "2"
            }
          ]
        }
      });
    </script>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-MBFB4XV"
        height="0"
        width="0"
        style="display:none;visibility:hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <nav class="navbar navbar-light bg-white">
      <a class="navbar-brand" href="../index.html">
        <img src="/images/logo_transparent.png" width="80" height="80" alt="" />
      </a>
    </nav>
    <hr />

    <div id="content">
      <img
        id="product-img-three"
        src="../images/productthree.jpeg"
        alt=""
        style="width: 600px; height: 100%"
      />
      <div id="desc" class="card" style="width: 35rem;">
        <div class="card-body">
          <div id="content-one">
            <h5 id="content-title-one" class="card-title"></h5>
            <h6 id="content-color" class="card-subtitle mb-2 text-muted">
              BLACK
            </h6>
            <h6 id="content-price" class="card-subtitle mb-2 text-muted">
              Rp200.000
            </h6>
            <p class="card-text">
              The Legacy Hoodie is an iconic design that’s part of Gymshark’s
              history. Boasting a flattering silhouette that stretches
              effortlessly and a classic printed Gymshark logo, it promises all
              the function and inspiration that any workout could need
            </p>
            <h6 id="size" class="card-subtitle mb-2 text-muted">SIZE</h6>
            <div id="size-button">
              <button type="button" class="btn btn-outline-dark">S</button>
              <button type="button" class="btn btn-outline-dark">M</button>
              <button type="button" class="btn btn-outline-dark">L</button>
              <button type="button" class="btn btn-outline-dark">XL</button>
            </div>
            <div id="counter">
              <h6 id="quantity" class="card-subtitle mb-2 text-muted">
                QUANTITY
              </h6>
              <input id="counterField" type="number" min="0" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      ga("ec:addImpression", {
        id: "1",
        name: "Product A",
        color: "BLACK",
        price: "200000",
        position: 1
      });
      ga("send", "pageview");

      dataLayer.push({
        ecommerce: {
          currencyCode: "IDR",
          impressions: [
            {
              id: "1",
              name: "Product A",
              color: "BLACK",
              price: "200000"
            }
          ]
        }
      });
    </script>

    <script>
      let data = localStorage.getItem("selectedProducts");

      data = JSON.parse(data);

      document
        .getElementById("product-img-three")
        .setAttribute("src", `/${data["image"]}`);
      // .getElementById("product-name");

      document.getElementById("content-title-one").innerHTML = data.name;

      const formatter = new Intl.NumberFormat("id-ID", {
        style: "currency",
        currency: "IDR",
        minimumFractionDigits: 0
      });

      document.getElementById("content-price").innerHTML = formatter.format(
        data.price
      );
    </script>
  </body>
</html>
